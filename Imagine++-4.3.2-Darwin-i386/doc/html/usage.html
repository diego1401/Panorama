<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Imagine++: Usage</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Imagine++
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">Imagine++ Libraries - version 4.3.2</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Usage </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="us1"></a>
Using CMake</h1>
<p>CMake philosophy is the following:</p><ul>
<li>your sources are in a directory containing a platform independent <code>CMakeLists.txt</code> configuration file describing your programs, the files from which they are built and the libraries they rely on (the source directory).</li>
<li>from this file, CMake creates, in some build directory you specify, all the files needed by your own system and your own development environment to compile your programs.</li>
<li>you can generate projects for Visual Studio on Windows, XCode on MacOS, Code::Blocks on all platforms... Some development environments, such as Kdevelop (Linux) and QtCreator (all platforms) know natively CMake, and you do not need to launch the cmake progam before.</li>
<li>it is a good idea to have separate source and build directories: you do not pollute your source directory with numerous temporary files needed for build.</li>
<li>this process is done once and for all. Even further modifications of <code>CMakeLists.txt</code> are handled automatically by the build process.</li>
</ul>
<p>The <code>'test'</code> sub-directory of the Imagine++ installation directory contains useful examples of such files. As an example, let's compile the Graphics tests.</p>
<p>The <code>CMakeLists.txt</code> (<code>&lt;Imagine_DIR&gt;/test/Graphics/CMakeLists</code>.txt) file of the Graphics test is simple, and your own should follow this model:</p>
 <div class="fragment"><div class="line">project(ImagineGraphicsTests)</div>
<div class="line"></div>
<div class="line">cmake_minimum_required(<a class="code" href="group___common.html#gab32f910250b4e4f80d9676d847f89358">VERSION</a> 2.6)</div>
<div class="line">find_package(<a class="code" href="namespace_imagine.html">Imagine</a> REQUIRED)</div>
<div class="line"></div>
<div class="line">add_executable(ImagineGraphicsExample example.cpp)</div>
<div class="line">ImagineUseModules(ImagineGraphicsExample Graphics)</div>
<div class="line"></div>
<div class="line">add_executable(ImagineGraphicsTest test.cpp)</div>
<div class="line">ImagineUseModules(ImagineGraphicsTest Graphics)</div>
</div><!-- fragment --></p>
<p>Two executables are defined, <code>ImagineGraphicsExample</code> and <code>ImagineGraphicsTest</code>, built respectively from <code>example.cpp</code> and <code>tesp.cpp</code>, each of them using the Graphics module. The first few lines are mandatory for any Imagine++ project: they check the <code>Imagine_DIR</code> environment variable, which is mandatory to use Imagine++ (see <a class="el" href="env_var.html#ev1">Introduction</a>).</p>
<p>Finally, if an executable depends on more than one C++ source, just add them as arguments to <code>add_executable</code> separated by whitespace. See other tests and refer to CMake own manual for further information.</p>
<h1><a class="anchor" id="us2"></a>
QtCreator (all platforms)</h1>
<p>QtCreator works on all platforms</p><ul>
<li>launch <code>QtCreator</code>. Under Windows, it may complain about some problem related to OpenGL. It is happens, launch from a terminal: <div class="fragment"><div class="line">c:\Qt\Tools\QtCreator\bin\qtcreator.exe -noload Welcome</div>
</div><!-- fragment --></li>
<li>launch menu <code>File/Open file or project...</code>. Choose the file <code>&lt;Imagine_DIR&gt;/test/Graphics/CMakeLists.txt</code> <div class="image">
<img src="qtcreator1.png" alt="qtcreator1.png"/>
<div class="caption">
Choose your build directory, click <code>Next</code> </div></div>
 <div class="image">
<img src="qtcreator2.png" alt="qtcreator2.png"/>
<div class="caption">
Set arguments as above to be able to debug the programs. Click button 'Run CMake', then <code>Finish</code>.</div></div>
 <div class="image">
<img src="qtcreator3.png" alt="qtcreator3.png"/>
<div class="caption">
Build (hammer button), select program to launch (button <code>all</code>) and launch (green arrow)</div></div>
 <div class="image">
<img src="qtcreator4.png" alt="qtcreator4.png"/>
<div class="caption">
The text output of the program is displayed in QtCreator</div></div>
 <div class="image">
<img src="qtcreator5.png" alt="qtcreator5.png"/>
<div class="caption">
To launch from a terminal instead, go to <code>Projects</code>, select <code>Run</code> and click 'Run in terminal'. You must do that if your program expects user text input.</div></div>
 <div class="image">
<img src="qtcreator6.png" alt="qtcreator6.png"/>
<div class="caption">
The green button with a ladybug launches the debugger. Set breakpoints , run line by line, observe variables...</div></div>
 </li>
</ul>
<h1><a class="anchor" id="us3"></a>
Visual Studio (Windows)</h1>
<p>To use under Windows:</p><ul>
<li>launch <code>cmake-gui</code> from the menus</li>
<li>choose <code>'C:/Program Files/Imagine++/test/Graphics'</code> (or equivalent) as the source code directory</li>
<li>choose <code>'C:/Users/</code><em>login<code>/Desktop/test'</code></em> or any temporary directory as the build directory</li>
<li>generate. When asked, choose <code>'Visual Studio 2013'</code> as build system. <div class="image">
<img src="usage1.png" alt="usage1.png"/>
<div class="caption">
When the indicated build directory does not exist, the 'Configure' button proposes to create it.</div></div>
 <div class="image">
<img src="usage2.png" alt="usage2.png"/>
<div class="caption">
Choose the correct generator for your project, here Visual 2013 in 32 bits.</div></div>
 <div class="image">
<img src="usage3.png" alt="usage3.png"/>
<div class="caption">
A correct configuration after clicking 'Generate'</div></div>
</li>
<li>you may now run Visual on the <code>ImagineGraphicsTests.sln</code> solution freshly created in your build directory <div class="image">
<img src="usage4.png" alt="usage4.png"/>
<div class="caption">
The solution file is created in the build directory. After that, Cmake can be closed.</div></div>
</li>
<li>note that several entries are defined under your Visual solution (<code>ALL_BUILD</code>, <code>INSTALL</code>, ...). These are for advanced usage. Don't forget to right-click on your own executable and 'Set as StartUp Project' <div class="image">
<img src="usage5.png" alt="usage5.png"/>
<div class="caption">
Define your execution project through a right-click on the project</div></div>
 <div class="image">
<img src="usage6.png" alt="usage6.png"/>
<div class="caption">
Running the project 'ImagineGraphicsTest' (key F5)</div></div>
 </li>
</ul>
<h1><a class="anchor" id="us4"></a>
From a terminal (all platforms)</h1>
<ul>
<li>run CMake GUI, and select a generator, 'Unix makefiles' for Linux and MacOS, 'MinGW Makefiles' for Windows. To install cmake-gui under Debian or derivative: <div class="fragment"><div class="line">sudo apt-<span class="keyword">get</span> install cmake-qt-gui</div>
</div><!-- fragment --> Notice it is in the Universe part of Ubuntu, which may not be activated by default.</li>
<li>you may now run <code>make</code> (Linux/Mac) or <code>mingw32-make</code> (Windows) in your build directory to compile your project.</li>
<li>under Mac, it may complain about not finding Qt. This is fixed by the command <div class="fragment"><div class="line">PATH=$HOME/Qt/5.3/clang_64/bin:$PATH</div>
</div><!-- fragment --></li>
<li>important notes:<ul>
<li>while being under cmake-gui, you may change build type to <code>Debug</code> (for use with a debugger) or <code>Release</code> to generate optmized programs (default is neither <code>Release</code> nor <code>Debug</code>). <b>For some applications, the Release executable can be much faster.</b></li>
<li>you can use <code>cmake</code> instead of <code>cmake-gui</code> as a command line version. Try also ccmake (non graphic version under Linux/Mac) to change build type: <div class="fragment"><div class="line">cmake /path/to/source</div>
<div class="line">ccmake .</div>
<div class="line">[change CMAKE_BUILD_TYPE to Release, press [g], quit [q]]</div>
<div class="line">make</div>
</div><!-- fragment --> </li>
</ul>
</li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Oct 24 2018 17:05:34 for Imagine++ by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
