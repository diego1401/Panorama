<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Imagine++: Troubleshooting</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Imagine++
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">Imagine++ Libraries - version 4.3.2</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Troubleshooting </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="ts1"></a>
Installation</h1>
<ul>
<li><b>The doc directory is not included in the archive Imagine++-...tar.gz even though I built the doc explicitly.</b> This happens on Windows. In the build directory, remove the folder _CPack_Packages and the file CPackConfig.cmake. Go back to cmake to regenerate the project (in the same build directory). In Visual, rebuild the doc (right-clicking on the doc project in the 'Solution Explorer' window). Rebuild the package (project 'PACKAGE'). The doc directory and its content should now be in the archive.</li>
<li><b>When building from source Imagine++, <code>make doc-qt</code> results in an error.</b> This the case with Ubuntu 14.04 and Qt5. The bug is caused by the Qt5 package not providing <code>qhelpgenerator</code>. A correction: <div class="fragment"><div class="line">sudo apt-<span class="keyword">get</span> install qt4-dev-tools</div>
<div class="line">cd /usr/lib/x86_64-linux-gnu/</div>
<div class="line">sudo ln -s /usr/lib/x86_64-linux-gnu/qt4/bin/qhelpgenerator qt5/bin/</div>
</div><!-- fragment --></li>
<li><b>Under MacOS, CMake complains it does not find the compiler, even though XCode is installed.</b> The gcc compiler is not in the standard path. To remedy this, enter the following in a terminal: <div class="fragment"><div class="line">sudo /usr/bin/xcode-select -<span class="keywordflow">switch</span> /Applications/Xcode.app/Contents/Developer</div>
</div><!-- fragment --></li>
</ul>
<h1><a class="anchor" id="ts2"></a>
Compilation</h1>
<ul>
<li><b>On Windows, Qt Creator signals an error "The C compiler is not able to compile a simple test program"</b>. It you get something like: <div class="image">
<img src="qtbugfrench.png" alt="qtbugfrench.png"/>
</div>
 you are hit by a bug where Qt Creator in French chooses a build directory containing an accent (<code>D&eacute;faut</code>) and then has some encoding problem, as seen in the image above. The solution is to change the build directory to a name containing no special character, like simply <code>build</code> (configurable in mode <code>Projets</code>).</li>
<li><b>Cmake signals an error 'Could not find module FindImagine.cmake or a configuration file for package Imagine'.</b> It is due to a missing or erroneous Imagine_DIR environment variable. This should be set to the installation path of Imagine++ (it is <b>not</b> the source directory of Imagine++, if you have it). For example, here is a good configuration under Windows: <div class="image">
<img src="env.png" alt="env.png"/>
<div class="caption">
A correct configuration of Imagine_DIR under Windows</div></div>
</li>
<li><b>Cmake complains with the following message</b> <div class="fragment"><div class="line">CMake Warning at ThirdParty/Qt5/CMakeLists.txt:6 (FIND_PACKAGE):</div>
<div class="line">  By not providing <span class="stringliteral">&quot;FindQt5Core.cmake&quot;</span> in CMAKE_MODULE_PATH <span class="keyword">this</span> project has</div>
<div class="line">  asked CMake to find a package configuration file provided by <span class="stringliteral">&quot;Qt5Core&quot;</span>, but</div>
<div class="line">  CMake did not find one.</div>
</div><!-- fragment --> CMake does not find Qt. To fix it, you can set the environment variable CMAKE_PREFIX_PATH to a correct path, like (under Mac): <div class="fragment"><div class="line">env CMAKE_PREFIX_PATH=/Users/pascal/Qt/5.3/clang_64/lib/cmake cmake .</div>
</div><!-- fragment --> and reboot.</li>
</ul>
<h1><a class="anchor" id="ts3"></a>
Usage</h1>
<ul>
<li><b>The build of my program went well but when I execute it, it complains about something related to Qt.</b> This happens on Windows in Release mode. First, the location of Qt's dynamic libraries (where the dll files are stored) must be in the 'path' environment variable. <div class="image">
<img src="conflictqt.png" alt="conflictqt.png"/>
<div class="caption">
Error related to Qt at execution time.</div></div>
 However, the final 'path' environment variable is a concatenation of the system variable and the user variable (unlike regular environment variables, for which the user variable overrides the system variable). In the image above, the path to Qt is in the user variable. However, some Qt libraries are used by MiKTeX (Latex program) and the path to MiKTeX is in the system variable. As witnessed by Visual's output, this is the problem: <div class="image">
<img src="conflictqt2.png" alt="conflictqt2.png"/>
<div class="caption">
Conflicting Qt dynamic libraries</div></div>
 When it looks for QtOpenGL4.dll, it is present only in the correct location, so it finds it there as it should. However, the required QtGui4.dll is also present in MiKTeX's directory, and built from another minor version of Qt. The solution is to prevent it from looking in the MiKTeX directory:<ul>
<li>A permanent solution is to add the Qt path in the system 'path' variable, before MiKTeX. However, you need administrator rights to do that.</li>
<li>Alternatively, you can copy the correct Qt dll files in the Release directory of your build (where your exe file is located). You have to do that for every Imagine++ program that you want to run in Release mode.</li>
<li>The least convenient solution is to launch the program from a terminal window where you have modified the 'path' environment variable. This only affects the current terminal.</li>
</ul>
</li>
<li><b>My program using the Graphics module complains with my main function 'int main(int argc, char** argv)'.</b> This definition of the main function is correct in C++, though perhaps less frequent than the also correct 'int main()'. The idea is to get arguments of the program at execution, if any. You are using an outdated version of Imagine++, you need to upgrade to a more recent version to fix this problem. </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Oct 24 2018 17:05:34 for Imagine++ by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
